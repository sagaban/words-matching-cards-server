(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["add-card"],{"098f":function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"q-pa-md add-card"},[n("h4",[t._v("Add a new word")]),n("q-form",{ref:"cardForm",staticClass:"q-gutter-md",on:{submit:t.onSubmit,reset:t.onReset}},[n("q-input",{attrs:{filled:"",label:"Word to learn","lazy-rules":"",rules:[function(t){return t&&t.length>0||"Please type something"}]},model:{value:t.word,callback:function(e){t.word=e},expression:"word"}}),n("q-input",{attrs:{filled:"",label:"Word translation","lazy-rules":"",rules:[function(t){return t&&t.length>0||"Please type something"}]},model:{value:t.translation,callback:function(e){t.translation=e},expression:"translation"}}),n("q-input",{attrs:{filled:"",type:"textarea",label:"Notes","lazy-rules":""},model:{value:t.notes,callback:function(e){t.notes=e},expression:"notes"}}),n("q-select",{ref:"tagSelectInput",attrs:{"use-input":"","input-debounce":"0",multiple:"","use-chips":"",options:t.filteredOptions,label:"Tags"},on:{"new-value":t.createTag,filter:t.tagFilter},scopedSlots:t._u([t.showAddTagButton?{key:"append",fn:function(){return[n("q-btn",{attrs:{round:"",dense:"",flat:"",icon:"add"},on:{click:t.addTagButtonHandler}})]},proxy:!0}:null],null,!0),model:{value:t.tags,callback:function(e){t.tags=e},expression:"tags"}}),n("div",[n("q-btn",{attrs:{label:"Submit",type:"submit",color:"primary"}}),n("q-btn",{staticClass:"q-ml-sm",attrs:{label:"Reset",type:"reset",color:"primary",flat:""}})],1)],1)],1)},r=[],s=(n("4de4"),n("4160"),n("caad"),n("d81d"),n("fb6a"),n("b0c0"),n("ac1f"),n("2532"),n("1276"),n("498a"),n("159b"),n("96cf"),n("1da1")),i=n("4360"),o={name:"AddWord",beforeRouteEnter:function(t,e,n){return Object(s["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,i["a"].dispatch("fetchTags");case 2:n();case 3:case"end":return t.stop()}}),t)})))()},data:function(){return{word:null,translation:null,notes:null,tags:[],filteredOptions:[],showAddTagButton:!1}},computed:{tagsArray:function(){return this.$store.getters.tagsArray},tagsStringArray:function(){return this.tagsArray.map((function(t){return t.name}))}},methods:{tagFilter:function(t,e){var n=this;if(""===t)return this.showAddTagButton=!1,void e((function(){n.filteredOptions=n.tagsStringArray}));this.showAddTagButton=!0,e((function(){if(n.tagsStringArray&&n.tagsStringArray.length){var e=t.toLowerCase();n.filteredOptions=n.tagsStringArray.filter((function(t){return t.toLowerCase().includes(e)}))}}))},createTag:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};if(t.length>0){var a=(this.tags||[]).slice();t.split(/[,;|]+/).map((function(t){return t.trim()})).filter((function(t){return t.length>0})).forEach((function(t){e.tagsStringArray.includes(t)||e.$store.dispatch("saveNewTag",{name:t}),a.includes(t)||a.push(t)})),n(a),this.tags=a}},addTagButtonHandler:function(){this.createTag(this.$refs.tagSelectInput.inputValue),this.$refs.tagSelectInput.inputValue=""},onSubmit:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.word&&t.translation)try{n=t.tagsArray.filter((function(e){return t.tags.includes(e.name)})).map((function(t){return t.id})),t.$store.dispatch("saveNewCard",{word:t.word,translation:t.translation,notes:t.notes,tags:n}),t.onReset()}catch(a){console.log(a)}else t.$w.notify({type:"warning",message:"'Word and Translation field are mandatory."});case 1:case"end":return e.stop()}}),e)})))()},onReset:function(){this.word=null,this.translation=null,this.notes=null,this.tags=[],this.$refs.cardForm.resetValidation()}}},c=o,l=(n("62c4"),n("2877")),u=n("fe09"),d=Object(l["a"])(c,a,r,!1,null,"c9e5ec6a",null);e["default"]=d.exports;d.options.components=Object.assign(Object.create(d.options.components||null),d.options.components||{},{QForm:u["f"],QInput:u["i"],QSelect:u["p"],QBtn:u["a"]})},1884:function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"q-pa-md tags"},[n("q-list",{attrs:{bordered:""}},t._l(t.tagsArray,(function(e){return n("q-item",{key:e.id,staticClass:"tags__item"},[n("q-item-section",[t._v(t._s(e.name))]),n("q-item-section",{staticClass:"tags__icon-action",attrs:{avatar:""},on:{click:function(n){return t.editTag(e)}}},[n("q-icon",{attrs:{color:"indigo-4",name:"edit"}})],1),n("q-item-section",{staticClass:"tags__icon-action",attrs:{avatar:""},on:{click:function(n){return t.deleteTag(e.id)}}},[n("q-icon",{attrs:{color:"red-4",name:"delete"}})],1)],1)})),1)],1)},r=[],s=(n("fb6a"),n("b0c0"),n("5530")),i=(n("96cf"),n("1da1")),o=n("4360"),c={name:"Tags",beforeRouteEnter:function(t,e,n){return Object(i["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,o["a"].dispatch("fetchTags");case 2:n();case 3:case"end":return t.stop()}}),t)})))()},computed:{tagsArray:function(){return this.$store.getters.tagsArray.slice().sort((function(t,e){return t.name>e.name?t.name<e.name?1:0:-1}))}},methods:{editTag:function(t){var e=this;this.$q.dialog({title:"Write tag new value",prompt:{model:"",type:"text"},cancel:!0,persistent:!0}).onOk((function(n){e.$store.dispatch("updateTag",Object(s["a"])(Object(s["a"])({},t),{},{name:n}))}))},deleteTag:function(t){var e=this;this.$q.dialog({title:"Delete",message:"Are you sure you want to delete this tag?",cancel:!0,persistent:!0}).onOk((function(){e.$store.dispatch("deleteTag",t)}))}}},l=c,u=(n("4551"),n("2877")),d=n("fe09"),f=Object(u["a"])(l,a,r,!1,null,"631b6a7b",null);e["default"]=f.exports;f.options.components=Object.assign(Object.create(f.options.components||null),f.options.components||{},{QList:d["n"],QItem:d["j"],QItemSection:d["l"],QIcon:d["h"]})},4551:function(t,e,n){"use strict";var a=n("cebb"),r=n.n(a);r.a},"62c4":function(t,e,n){"use strict";var a=n("a1d8"),r=n.n(a);r.a},a1d8:function(t,e,n){},cebb:function(t,e,n){}}]);
//# sourceMappingURL=add-card.95dec022.js.map